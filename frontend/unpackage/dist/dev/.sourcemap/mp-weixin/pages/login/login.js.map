{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\n  <view class=\"page-bg\">\n    <view class=\"login-container\">\n      <view class=\"login-header\">\n        <image class=\"logo\" src=\"/static/tabBar/home.png\" mode=\"aspectFit\"></image>\n        <text class=\"app-name\">ËΩªÂ±èÂ£ÅÁ∫∏</text>\n        <text class=\"app-slogan\">È´òÊ∏ÖÂ£ÅÁ∫∏Ôºå‰∏ÄÈîÆ‰∏ãËΩΩ</text>\n      </view>\n\n      <view class=\"login-content\">\n        <view class=\"login-tips\">\n          <text class=\"tip-text\">ÁôªÂΩïÂêéÂèØ‰ª•Êî∂ËóèÂ£ÅÁ∫∏„ÄÅÊü•ÁúãÊµèËßàÂéÜÂè≤</text>\n        </view>\n\n        <button class=\"login-btn\" @click=\"handleLogin\">\n          <text class=\"btn-icon\">üì±</text>\n          <text>ÂæÆ‰ø°‰∏ÄÈîÆÁôªÂΩï</text>\n        </button>\n\n        <view class=\"agreement\">\n          <text class=\"agreement-text\">ÁôªÂΩïÂç≥Ë°®Á§∫ÂêåÊÑè</text>\n          <text class=\"agreement-link\" @click=\"goToAgreement\">„ÄäÁî®Êà∑ÂçèËÆÆ„Äã</text>\n          <text class=\"agreement-text\">Âíå</text>\n          <text class=\"agreement-link\" @click=\"goToPrivacy\">„ÄäÈöêÁßÅÊîøÁ≠ñ„Äã</text>\n        </view>\n      </view>\n\n      <view class=\"login-footer\">\n        <text class=\"footer-text\">ÁâàÊú¨ 2.0.0</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { userLogin } from '@/api/user/index.js'\nimport { useUserStore } from '@/stores/user'\n\nconst userStore = useUserStore()\n\nasync function handleLogin() {\n  try {\n    uni.showLoading({\n      title: 'ÁôªÂΩï‰∏≠...'\n    })\n\n    const loginRes = await uni.login({\n      provider: 'weixin'\n    })\n\n    if (loginRes.code) {\n      const res = await userLogin({\n        code: loginRes.code,\n        userInfo: {}\n      })\n\n      if (res && res.token) {\n        userStore.setToken(res.token)\n        userStore.setUserInfo({\n          openid: res.openid,\n          nickName: 'ÂæÆ‰ø°Áî®Êà∑',\n          avatarUrl: ''\n        })\n\n        uni.hideLoading()\n        uni.showToast({\n          title: 'ÁôªÂΩïÊàêÂäü',\n          icon: 'success'\n        })\n\n        setTimeout(() => {\n          uni.switchTab({\n            url: '/pages/index/index'\n          })\n        }, 1500)\n      } else {\n        uni.hideLoading()\n        uni.showToast({\n          title: 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n          icon: 'none'\n        })\n      }\n    } else {\n      uni.hideLoading()\n      uni.showToast({\n        title: 'Ëé∑ÂèñÁôªÂΩïÂá≠ËØÅÂ§±Ë¥•',\n        icon: 'none'\n      })\n    }\n  } catch (error) {\n    console.error('ÁôªÂΩïÂ§±Ë¥•:', error)\n    uni.hideLoading()\n    uni.showToast({\n      title: 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n      icon: 'none'\n    })\n  }\n}\n\nfunction goToAgreement() {\n  uni.showToast({\n    title: 'Áî®Êà∑ÂçèËÆÆ',\n    icon: 'none'\n  })\n}\n\nfunction goToPrivacy() {\n  uni.showToast({\n    title: 'ÈöêÁßÅÊîøÁ≠ñ',\n    icon: 'none'\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-container {\n  min-height: 100vh;\n  padding: 60rpx 40rpx;\n  display: flex;\n  flex-direction: column;\n}\n\n.login-header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 100rpx;\n  margin-top: 100rpx;\n}\n\n.logo {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 32rpx;\n  margin-bottom: 30rpx;\n  box-shadow: 0 8rpx 24rpx rgba(40, 179, 137, 0.2);\n}\n\n.app-name {\n  font-size: 48rpx;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 15rpx;\n}\n\n.app-slogan {\n  font-size: 28rpx;\n  color: #999;\n}\n\n.login-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.login-tips {\n  margin-bottom: 60rpx;\n  text-align: center;\n}\n\n.tip-text {\n  font-size: 28rpx;\n  color: #666;\n}\n\n.login-btn {\n  width: 100%;\n  height: 100rpx;\n  background: linear-gradient(135deg, #28b389, #40c79c);\n  color: #fff;\n  border-radius: 50rpx;\n  font-size: 32rpx;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 20rpx;\n  border: none;\n  box-shadow: 0 8rpx 24rpx rgba(40, 179, 137, 0.3);\n  margin-bottom: 40rpx;\n}\n\n.btn-icon {\n  font-size: 40rpx;\n}\n\n.agreement {\n  text-align: center;\n  margin-top: 40rpx;\n}\n\n.agreement-text {\n  font-size: 24rpx;\n  color: #999;\n}\n\n.agreement-link {\n  font-size: 24rpx;\n  color: #28b389;\n}\n\n.login-footer {\n  margin-top: auto;\n  text-align: center;\n  padding: 30rpx 0;\n}\n\n.footer-text {\n  font-size: 24rpx;\n  color: #ccc;\n}\n</style>\n","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/frontend/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","uni","userLogin"],"mappings":";;;;;;;;AAuCA,UAAM,YAAYA,YAAAA,aAAc;AAEhC,mBAAe,cAAc;AAC3B,UAAI;AACFC,sBAAAA,MAAI,YAAY;AAAA,UACd,OAAO;AAAA,QACb,CAAK;AAED,cAAM,WAAW,MAAMA,cAAG,MAAC,MAAM;AAAA,UAC/B,UAAU;AAAA,QAChB,CAAK;AAED,YAAI,SAAS,MAAM;AACjB,gBAAM,MAAM,MAAMC,yBAAU;AAAA,YAC1B,MAAM,SAAS;AAAA,YACf,UAAU,CAAE;AAAA,UACpB,CAAO;AAED,cAAI,OAAO,IAAI,OAAO;AACpB,sBAAU,SAAS,IAAI,KAAK;AAC5B,sBAAU,YAAY;AAAA,cACpB,QAAQ,IAAI;AAAA,cACZ,UAAU;AAAA,cACV,WAAW;AAAA,YACrB,CAAS;AAEDD,0BAAAA,MAAI,YAAa;AACjBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YAChB,CAAS;AAED,uBAAW,MAAM;AACfA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,KAAK;AAAA,cACjB,CAAW;AAAA,YACF,GAAE,IAAI;AAAA,UACf,OAAa;AACLA,0BAAAA,MAAI,YAAa;AACjBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YAChB,CAAS;AAAA,UACF;AAAA,QACP,OAAW;AACLA,wBAAAA,MAAI,YAAa;AACjBA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACd,CAAO;AAAA,QACF;AAAA,MACF,SAAQ,OAAO;AACdA,sBAAAA,oDAAc,SAAS,KAAK;AAC5BA,sBAAAA,MAAI,YAAa;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AAAA,MACF;AAAA,IACH;AAEA,aAAS,gBAAgB;AACvBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACV,CAAG;AAAA,IACH;AAEA,aAAS,cAAc;AACrBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACV,CAAG;AAAA,IACH;;;;;;;;;;;;AC/GA,GAAG,WAAW,eAAe;"}