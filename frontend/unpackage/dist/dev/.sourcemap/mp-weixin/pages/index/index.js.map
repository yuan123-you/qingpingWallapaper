{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"page-bg\">\n    <view class=\"index-container\">\n      <swiper class=\"banner-swiper\" :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"500\" circular>\n        <swiper-item v-for=\"(item, index) in bannerList\" :key=\"index\" @click=\"handleBannerClick(item)\">\n          <image class=\"banner-image\" :src=\"item.pic_url\" mode=\"aspectFill\"></image>\n        </swiper-item>\n      </swiper>\n\n      <view class=\"notice-bar\" v-if=\"noticeList.length > 0\">\n        <view class=\"notice-icon\">üì¢</view>\n        <swiper class=\"notice-swiper\" :vertical=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"500\" circular>\n          <swiper-item v-for=\"(item, index) in noticeList\" :key=\"index\" @click=\"goToNotice(item)\">\n            <text class=\"notice-text\">{{ item.title }}</text>\n          </swiper-item>\n        </swiper>\n      </view>\n\n      <view class=\"section\">\n        <view class=\"section-header\">\n          <text class=\"section-title\">Êé®ËçêÂ£ÅÁ∫∏</text>\n          <text class=\"section-more\" @click=\"goToWallpaperList\">Êõ¥Â§ö ‚Ä∫</text>\n        </view>\n        <scroll-view class=\"recommend-scroll\" scroll-x>\n          <view class=\"recommend-list\">\n            <view \n              class=\"recommend-item\" \n              v-for=\"(item, index) in recommendList\" \n              :key=\"index\"\n              @click=\"goToPreview(item)\"\n            >\n              <image class=\"recommend-image\" :src=\"item.pic_url\" mode=\"aspectFill\"></image>\n              <text class=\"recommend-title\">{{ item.title || 'Â£ÅÁ∫∏' }}</text>\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n\n      <view class=\"section\">\n        <view class=\"section-header\">\n          <text class=\"section-title\">ÁÉ≠Èó®ÂàÜÁ±ª</text>\n          <text class=\"section-more\" @click=\"goToClassify\">Êõ¥Â§ö ‚Ä∫</text>\n        </view>\n        <view class=\"classify-grid\">\n          <view \n            class=\"classify-grid-item\" \n            v-for=\"(item, index) in classifyList\" \n            :key=\"index\"\n            @click=\"goToClassify(item)\"\n          >\n            <image class=\"classify-grid-image\" :src=\"item.cover_url\" mode=\"aspectFill\"></image>\n            <text class=\"classify-grid-name\">{{ item.name }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"safe-area-bottom\"></view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { getBannerList, getNoticeList, getWallpaperList, getClassifyList } from '@/api/user/index.js'\nimport { useUserStore } from '@/stores/user'\n\nconst userStore = useUserStore()\nconst bannerList = ref([])\nconst noticeList = ref([])\nconst recommendList = ref([])\nconst classifyList = ref([])\n\nonMounted(() => {\n  loadData()\n})\n\nasync function loadData() {\n  try {\n    const [bannerRes, noticeRes] = await Promise.all([\n      getBannerList(),\n      getNoticeList()\n    ])\n    \n    if (bannerRes && bannerRes.bannerList) {\n      bannerList.value = bannerRes.bannerList\n    }\n    \n    if (noticeRes && noticeRes.list) {\n      noticeList.value = noticeRes.list\n    }\n    \n    await loadRecommend()\n    await loadClassify()\n  } catch (error) {\n    console.error('Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:', error)\n  }\n}\n\nasync function loadRecommend() {\n  try {\n    const res = await getWallpaperList({\n      pageNum: 1,\n      pageSize: 10\n    })\n    \n    if (res && res.list) {\n      recommendList.value = res.list\n    }\n  } catch (error) {\n    console.error('Âä†ËΩΩÊé®ËçêÂ§±Ë¥•:', error)\n  }\n}\n\nasync function loadClassify() {\n  try {\n    const res = await getClassifyList()\n    \n    if (res && res.classifyList) {\n      classifyList.value = res.classifyList\n    }\n  } catch (error) {\n    console.error('Âä†ËΩΩÂàÜÁ±ªÂ§±Ë¥•:', error)\n  }\n}\n\nfunction handleBannerClick(item) {\n  goToPreview(item)\n}\n\nfunction goToPreview(item) {\n  uni.navigateTo({\n    url: `/pages/preview/preview?id=${item.id}`\n  })\n}\n\nfunction goToClassify(item) {\n  if (item && item.id) {\n    uni.navigateTo({\n      url: `/pages/wallpaper/list?id=${item.id}&name=${item.name}`\n    })\n  } else {\n    uni.switchTab({\n      url: '/pages/classify/classify'\n    })\n  }\n}\n\nfunction goToWallpaperList() {\n  uni.navigateTo({\n    url: '/pages/wallpaper/list'\n  })\n}\n\nfunction goToNotice(item) {\n  uni.navigateTo({\n    url: `/pages/notice/detail?id=${item.id}`\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.page-bg {\n  background: linear-gradient(to bottom, transparent, #f8f9fa 300rpx),\n              linear-gradient(to right, #e8f5e9, #f5fafe);\n  min-height: 100vh;\n}\n\n.index-container {\n  padding: 20rpx;\n}\n\n.banner-swiper {\n  width: 100%;\n  height: 400rpx;\n  border-radius: 16rpx;\n  overflow: hidden;\n  margin-bottom: 20rpx;\n}\n\n.banner-image {\n  width: 100%;\n  height: 100%;\n}\n\n.notice-bar {\n  display: flex;\n  align-items: center;\n  background: #fff;\n  border-radius: 12rpx;\n  padding: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.notice-icon {\n  font-size: 32rpx;\n  margin-right: 15rpx;\n}\n\n.notice-swiper {\n  flex: 1;\n  height: 40rpx;\n}\n\n.notice-text {\n  font-size: 26rpx;\n  color: #666;\n}\n\n.section {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n.section-more {\n  font-size: 26rpx;\n  color: #28b389;\n}\n\n.recommend-scroll {\n  white-space: nowrap;\n}\n\n.recommend-list {\n  display: flex;\n  gap: 20rpx;\n}\n\n.recommend-item {\n  display: inline-block;\n  width: 200rpx;\n}\n\n.recommend-image {\n  width: 200rpx;\n  height: 300rpx;\n  border-radius: 12rpx;\n  display: block;\n  margin-bottom: 15rpx;\n}\n\n.recommend-title {\n  font-size: 24rpx;\n  color: #333;\n  display: block;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.classify-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 20rpx;\n}\n\n.classify-grid-item {\n  background: #fff;\n  border-radius: 12rpx;\n  overflow: hidden;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);\n}\n\n.classify-grid-image {\n  width: 100%;\n  height: 200rpx;\n  display: block;\n}\n\n.classify-grid-name {\n  font-size: 26rpx;\n  color: #333;\n  font-weight: 500;\n  display: block;\n  text-align: center;\n  padding: 15rpx;\n}\n\n.safe-area-bottom {\n  height: constant(safe-area-inset-bottom);\n  height: env(safe-area-inset-bottom);\n}\n</style>\n","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/frontend/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","onMounted","getBannerList","getNoticeList","uni","getWallpaperList","getClassifyList"],"mappings":";;;;;;;AAiEkBA,gBAAAA,aAAc;AAChC,UAAM,aAAaC,cAAG,IAAC,EAAE;AACzB,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAC5B,UAAM,eAAeA,cAAG,IAAC,EAAE;AAE3BC,kBAAAA,UAAU,MAAM;AACd,eAAU;AAAA,IACZ,CAAC;AAED,mBAAe,WAAW;AACxB,UAAI;AACF,cAAM,CAAC,WAAW,SAAS,IAAI,MAAM,QAAQ,IAAI;AAAA,UAC/CC,6BAAe;AAAA,UACfC,6BAAe;AAAA,QACrB,CAAK;AAED,YAAI,aAAa,UAAU,YAAY;AACrC,qBAAW,QAAQ,UAAU;AAAA,QAC9B;AAED,YAAI,aAAa,UAAU,MAAM;AAC/B,qBAAW,QAAQ,UAAU;AAAA,QAC9B;AAED,cAAM,cAAe;AACrB,cAAM,aAAc;AAAA,MACrB,SAAQ,OAAO;AACdC,sBAAAA,MAAA,MAAA,SAAA,+BAAc,WAAW,KAAK;AAAA,MAC/B;AAAA,IACH;AAEA,mBAAe,gBAAgB;AAC7B,UAAI;AACF,cAAM,MAAM,MAAMC,gCAAiB;AAAA,UACjC,SAAS;AAAA,UACT,UAAU;AAAA,QAChB,CAAK;AAED,YAAI,OAAO,IAAI,MAAM;AACnB,wBAAc,QAAQ,IAAI;AAAA,QAC3B;AAAA,MACF,SAAQ,OAAO;AACdD,sBAAAA,MAAA,MAAA,SAAA,gCAAc,WAAW,KAAK;AAAA,MAC/B;AAAA,IACH;AAEA,mBAAe,eAAe;AAC5B,UAAI;AACF,cAAM,MAAM,MAAME,+BAAiB;AAEnC,YAAI,OAAO,IAAI,cAAc;AAC3B,uBAAa,QAAQ,IAAI;AAAA,QAC1B;AAAA,MACF,SAAQ,OAAO;AACdF,sBAAAA,MAAA,MAAA,SAAA,gCAAc,WAAW,KAAK;AAAA,MAC/B;AAAA,IACH;AAEA,aAAS,kBAAkB,MAAM;AAC/B,kBAAY,IAAI;AAAA,IAClB;AAEA,aAAS,YAAY,MAAM;AACzBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,6BAA6B,KAAK,EAAE;AAAA,MAC7C,CAAG;AAAA,IACH;AAEA,aAAS,aAAa,MAAM;AAC1B,UAAI,QAAQ,KAAK,IAAI;AACnBA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK,4BAA4B,KAAK,EAAE,SAAS,KAAK,IAAI;AAAA,QAChE,CAAK;AAAA,MACL,OAAS;AACLA,sBAAAA,MAAI,UAAU;AAAA,UACZ,KAAK;AAAA,QACX,CAAK;AAAA,MACF;AAAA,IACH;AAEA,aAAS,oBAAoB;AAC3BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAEA,aAAS,WAAW,MAAM;AACxBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,2BAA2B,KAAK,EAAE;AAAA,MAC3C,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3JA,GAAG,WAAW,eAAe;"}