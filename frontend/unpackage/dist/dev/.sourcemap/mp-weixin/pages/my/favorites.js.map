{"version":3,"file":"favorites.js","sources":["pages/my/favorites.vue","../../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvZmF2b3JpdGVzLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"page-bg\">\n    <view class=\"favorites-container\">\n      <view class=\"favorites-header\">\n        <text class=\"favorites-title\">我的收藏</text>\n        <text class=\"favorites-count\">{{ favoritesList.length }}张</text>\n      </view>\n\n      <view v-if=\"favoritesList.length === 0\" class=\"empty-state\">\n        <text class=\"empty-icon\">♥</text>\n        <text class=\"empty-text\">暂无收藏</text>\n        <text class=\"empty-tip\">去首页浏览壁纸吧</text>\n      </view>\n\n      <view v-else class=\"favorites-grid\">\n        <view \n          class=\"favorites-item\" \n          v-for=\"(item, index) in favoritesList\" \n          :key=\"index\"\n          @click=\"goToPreview(item)\"\n        >\n          <image class=\"favorites-image\" :src=\"item.pic_url\" mode=\"aspectFill\"></image>\n          <view class=\"favorites-overlay\">\n            <text class=\"favorites-title\">{{ item.title || '壁纸' }}</text>\n            <view class=\"favorites-actions\">\n              <text class=\"action-btn remove-btn\" @click.stop=\"removeFavorite(item)\">✕</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"safe-area-bottom\"></view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useUserStore } from '@/stores/user'\n\nconst userStore = useUserStore()\n\nconst favoritesList = computed(() => userStore.favorites || [])\n\nonMounted(() => {\n  userStore.initUserInfo()\n})\n\nfunction goToPreview(item) {\n  uni.navigateTo({\n    url: `/pages/preview/preview?id=${item.id}`\n  })\n}\n\nfunction removeFavorite(item) {\n  uni.showModal({\n    title: '提示',\n    content: '确定要取消收藏吗？',\n    success: (res) => {\n      if (res.confirm) {\n        userStore.removeFavorite(item.id)\n        uni.showToast({\n          title: '已取消收藏',\n          icon: 'success'\n        })\n      }\n    }\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.favorites-container {\n  min-height: 100vh;\n  padding: 30rpx;\n}\n\n.favorites-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30rpx;\n}\n\n.favorites-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n.favorites-count {\n  font-size: 28rpx;\n  color: #999;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 200rpx 0;\n}\n\n.empty-icon {\n  font-size: 120rpx;\n  margin-bottom: 30rpx;\n}\n\n.empty-text {\n  font-size: 28rpx;\n  color: #999;\n  margin-bottom: 15rpx;\n}\n\n.empty-tip {\n  font-size: 24rpx;\n  color: #ccc;\n}\n\n.favorites-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 20rpx;\n}\n\n.favorites-item {\n  position: relative;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);\n}\n\n.favorites-image {\n  width: 100%;\n  height: 400rpx;\n  display: block;\n}\n\n.favorites-overlay {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);\n  padding: 20rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n}\n\n.favorites-title {\n  font-size: 26rpx;\n  color: #fff;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 200rpx;\n}\n\n.favorites-actions {\n  display: flex;\n  gap: 10rpx;\n}\n\n.action-btn {\n  font-size: 32rpx;\n  width: 50rpx;\n  height: 50rpx;\n  border-radius: 50%;\n  background: rgba(255,255,255,0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.remove-btn {\n  color: #ff6b6b;\n}\n\n.safe-area-bottom {\n  height: constant(safe-area-inset-bottom);\n  height: env(safe-area-inset-bottom);\n}\n</style>\n","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/frontend/pages/my/favorites.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","computed","onMounted","uni"],"mappings":";;;;;;AAuCA,UAAM,YAAYA,YAAAA,aAAc;AAEhC,UAAM,gBAAgBC,cAAAA,SAAS,MAAM,UAAU,aAAa,CAAA,CAAE;AAE9DC,kBAAAA,UAAU,MAAM;AACd,gBAAU,aAAc;AAAA,IAC1B,CAAC;AAED,aAAS,YAAY,MAAM;AACzBC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,6BAA6B,KAAK,EAAE;AAAA,MAC7C,CAAG;AAAA,IACH;AAEA,aAAS,eAAe,MAAM;AAC5BA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,sBAAU,eAAe,KAAK,EAAE;AAChCA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YAChB,CAAS;AAAA,UACF;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;AClEA,GAAG,WAAW,eAAe;"}