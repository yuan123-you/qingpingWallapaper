{"version":3,"file":"classify.js","sources":["pages/classify/classify.vue","../../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2xhc3NpZnkvY2xhc3NpZnkudnVl"],"sourcesContent":["<template>\n  <view class=\"page-bg\">\n    <view class=\"classify-container\">\n      <view class=\"search-bar\">\n        <input \n          class=\"search-input\" \n          placeholder=\"搜索分类\" \n          v-model=\"searchKeyword\"\n          @confirm=\"handleSearch\"\n        />\n      </view>\n\n      <scroll-view class=\"classify-scroll\" scroll-y>\n        <view class=\"classify-list\">\n          <view \n            class=\"classify-item\" \n            v-for=\"(item, index) in classifyList\" \n            :key=\"index\"\n            @click=\"goToWallpaperList(item)\"\n          >\n            <image class=\"classify-cover\" :src=\"item.cover_url\" mode=\"aspectFill\"></image>\n            <view class=\"classify-info\">\n              <text class=\"classify-name\">{{ item.name }}</text>\n              <text class=\"classify-desc\">{{ item.desc || '' }}</text>\n              <text class=\"classify-count\">{{ item.wall_count || 0 }}张壁纸</text>\n            </view>\n          </view>\n        </view>\n        \n        <view class=\"empty\" v-if=\"classifyList.length === 0\">\n          <text>暂无分类</text>\n        </view>\n      </scroll-view>\n    </view>\n    <view class=\"safe-area-bottom\"></view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { getClassifyList } from '@/api/user/index.js'\n\nconst classifyList = ref([])\nconst searchKeyword = ref('')\n\nonMounted(() => {\n  loadClassify()\n})\n\nasync function loadClassify() {\n  try {\n    const res = await getClassifyList()\n    \n    if (res && res.classifyList) {\n      classifyList.value = res.classifyList\n    }\n  } catch (error) {\n    console.error('加载分类失败:', error)\n  }\n}\n\nfunction handleSearch() {\n  if (!searchKeyword.value.trim()) {\n    loadClassify()\n    return\n  }\n  \n  classifyList.value = classifyList.value.filter(item => \n    item.name.toLowerCase().includes(searchKeyword.value.toLowerCase())\n  )\n}\n\nfunction goToWallpaperList(item) {\n  uni.navigateTo({\n    url: `/pages/wallpaper/list?id=${item.id}&name=${item.name}`\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.classify-container {\n  min-height: 100vh;\n  background: #fff;\n}\n\n.search-bar {\n  padding: 20rpx 30rpx;\n  background: #f5f5f5;\n}\n\n.search-input {\n  width: 100%;\n  height: 70rpx;\n  background: #fff;\n  border-radius: 35rpx;\n  padding: 0 30rpx;\n  font-size: 28rpx;\n}\n\n.classify-scroll {\n  height: calc(100vh - 200rpx);\n}\n\n.classify-list {\n  padding: 20rpx 30rpx;\n}\n\n.classify-item {\n  display: flex;\n  background: #fff;\n  border-radius: 16rpx;\n  margin-bottom: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);\n}\n\n.classify-cover {\n  width: 200rpx;\n  height: 200rpx;\n  flex-shrink: 0;\n}\n\n.classify-info {\n  flex: 1;\n  padding: 20rpx;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.classify-name {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 10rpx;\n}\n\n.classify-desc {\n  font-size: 24rpx;\n  color: #666;\n  margin-bottom: 10rpx;\n}\n\n.classify-count {\n  font-size: 22rpx;\n  color: #999;\n}\n\n.loading-more,\n.no-more,\n.empty {\n  text-align: center;\n  padding: 30rpx;\n  color: #999;\n  font-size: 24rpx;\n}\n\n.safe-area-bottom {\n  height: constant(safe-area-inset-bottom);\n  height: env(safe-area-inset-bottom);\n}\n</style>\n","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/frontend/pages/classify/classify.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","getClassifyList","uni"],"mappings":";;;;;;AA0CA,UAAM,eAAeA,cAAG,IAAC,EAAE;AAC3B,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAE5BC,kBAAAA,UAAU,MAAM;AACd,mBAAc;AAAA,IAChB,CAAC;AAED,mBAAe,eAAe;AAC5B,UAAI;AACF,cAAM,MAAM,MAAMC,+BAAiB;AAEnC,YAAI,OAAO,IAAI,cAAc;AAC3B,uBAAa,QAAQ,IAAI;AAAA,QAC1B;AAAA,MACF,SAAQ,OAAO;AACdC,sBAAAA,MAAA,MAAA,SAAA,qCAAc,WAAW,KAAK;AAAA,MAC/B;AAAA,IACH;AAEA,aAAS,eAAe;AACtB,UAAI,CAAC,cAAc,MAAM,QAAQ;AAC/B,qBAAc;AACd;AAAA,MACD;AAED,mBAAa,QAAQ,aAAa,MAAM;AAAA,QAAO,UAC7C,KAAK,KAAK,YAAa,EAAC,SAAS,cAAc,MAAM,aAAa;AAAA,MACnE;AAAA,IACH;AAEA,aAAS,kBAAkB,MAAM;AAC/BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,4BAA4B,KAAK,EAAE,SAAS,KAAK,IAAI;AAAA,MAC9D,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;AC3EA,GAAG,WAAW,eAAe;"}