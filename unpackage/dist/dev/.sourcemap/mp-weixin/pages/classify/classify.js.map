{"version":3,"file":"classify.js","sources":["pages/classify/classify.vue","../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2xhc3NpZnkvY2xhc3NpZnkudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\n      <view class=\"header-inner\">\n        <text class=\"title\">发现分类</text>\n        <view class=\"search-entry\" @click=\"goToSearch\">\n          <uni-icons type=\"search\" size=\"18\" color=\"#666\"></uni-icons>\n          <text>搜索分类...</text>\n        </view>\n        <!-- 适配胶囊按钮 -->\n        <view class=\"capsule-placeholder\"></view>\n      </view>\n    </view>\n\n    <scroll-view scroll-y class=\"main-content\">\n      <view class=\"grid\">\n        <view \n          class=\"cate-card fade-in-up\" \n          v-for=\"(item, index) in classifyList\" \n          :key=\"item.id\"\n          :style=\"{ animationDelay: index * 0.05 + 's' }\"\n          @click=\"goToWallpaperList(item)\"\n        >\n          <image :src=\"item.cover_url\" mode=\"aspectFill\" class=\"cover\"></image>\n          <view class=\"mask\">\n            <view class=\"info\">\n              <text class=\"name\">{{ item.name }}</text>\n              <view class=\"details\">\n                <text class=\"count\">{{ item.wall_count }}+ 壁纸</text>\n                <view class=\"line\"></view>\n                <text class=\"go\">探索</text>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"safe-area-bottom\"></view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { getClassifyList } from '@/api/user/index.js'\n\nconst statusBarHeight = ref(uni.getSystemInfoSync().statusBarHeight || 20)\nconst classifyList = ref([])\n\nonMounted(() => {\n  loadData()\n})\n\nasync function loadData() {\n  const res = await getClassifyList()\n  classifyList.value = res.classifyList\n}\n\nfunction goToWallpaperList(item) {\n  uni.navigateTo({\n    url: `/pages/wallpaper/list?id=${item.id}&name=${item.name}`\n  })\n}\n\nfunction goToSearch() {\n  uni.navigateTo({ url: '/pages/search/search' })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  height: 100vh;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background: #fff;\n  z-index: 10;\n  \n  .header-inner {\n    height: 88rpx;\n    padding: 0 30rpx;\n    @include flex-between;\n    gap: 20rpx;\n    \n    .title {\n      font-size: 36rpx;\n      font-weight: 900;\n      color: #1a1a1a;\n      letter-spacing: -1rpx;\n      flex-shrink: 0;\n    }\n    \n    // 修复搜索框样式，使其更像一个输入框\n    .search-entry {\n      flex: 1;\n      height: 72rpx;\n      border-radius: 36rpx;\n      background: #f8f9fa;\n      display: flex;\n      align-items: center;\n      padding: 0 24rpx;\n      \n      text {\n        font-size: 26rpx;\n        color: #999;\n        margin-left: 10rpx;\n      }\n    }\n\n    .capsule-placeholder {\n      width: 170rpx;\n      flex-shrink: 0;\n    }\n  }\n}\n\n.main-content {\n  flex: 1;\n}\n\n.grid {\n  padding: 30rpx;\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  gap: 30rpx;\n}\n\n.cate-card {\n  height: 260rpx;\n  border-radius: 36rpx;\n  overflow: hidden;\n  position: relative;\n  box-shadow: $shadow-md;\n  \n  &:active {\n    transform: scale(0.98);\n  }\n  \n  .cover {\n    width: 100%;\n    height: 100%;\n  }\n  \n  .mask {\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(to right, rgba(0,0,0,0.5) 0%, transparent 100%);\n    padding: 40rpx;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    \n    .info {\n      .name {\n        color: #fff;\n        font-size: 40rpx;\n        font-weight: 800;\n        margin-bottom: 12rpx;\n        display: block;\n      }\n      \n      .details {\n        display: flex;\n        align-items: center;\n        gap: 16rpx;\n        \n        .count {\n          color: rgba(255,255,255,0.8);\n          font-size: 22rpx;\n        }\n        \n        .line {\n          width: 2rpx;\n          height: 16rpx;\n          background: rgba(255,255,255,0.3);\n        }\n        \n        .go {\n          color: #fff;\n          font-size: 22rpx;\n          font-weight: 600;\n        }\n      }\n    }\n  }\n}\n\n.safe-area-bottom {\n  height: calc(env(safe-area-inset-bottom) + 20rpx);\n}\n</style>","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/pages/classify/classify.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted","getClassifyList"],"mappings":";;;;;;;;;;;;;;AA6CA,UAAM,kBAAkBA,cAAG,IAACC,cAAG,MAAC,kBAAiB,EAAG,mBAAmB,EAAE;AACzE,UAAM,eAAeD,cAAG,IAAC,EAAE;AAE3BE,kBAAAA,UAAU,MAAM;AACd,eAAU;AAAA,IACZ,CAAC;AAED,mBAAe,WAAW;AACxB,YAAM,MAAM,MAAMC,+BAAiB;AACnC,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AAEA,aAAS,kBAAkB,MAAM;AAC/BF,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,4BAA4B,KAAK,EAAE,SAAS,KAAK,IAAI;AAAA,MAC9D,CAAG;AAAA,IACH;AAEA,aAAS,aAAa;AACpBA,oBAAAA,MAAI,WAAW,EAAE,KAAK,uBAAsB,CAAE;AAAA,IAChD;;;;;;;;;;;;;;;;;;;;;;;;;AChEA,GAAG,WAAW,eAAe;"}