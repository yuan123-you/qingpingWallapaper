{"version":3,"file":"downloads.js","sources":["pages/my/downloads.vue","../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvZG93bmxvYWRzLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <view class=\"header\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\r\n      <view class=\"header-inner\">\r\n        <view class=\"back-btn\" @click=\"goBack\">\r\n          <uni-icons type=\"left\" size=\"24\" color=\"#1a1a1a\"></uni-icons>\r\n        </view>\r\n        <text class=\"title\">下载记录</text>\r\n        <text class=\"count\" v-if=\"list.length\">{{ list.length }}</text>\r\n        <view class=\"capsule-placeholder\"></view>\r\n      </view>\r\n    </view>\r\n\r\n    <scroll-view scroll-y class=\"main\">\r\n      <view class=\"grid\" v-if=\"list.length\">\r\n        <view \r\n          class=\"wall-card fade-in-up\" \r\n          v-for=\"(item, index) in list\" \r\n          :key=\"item.id\"\r\n          :style=\"{ animationDelay: index * 0.05 + 's' }\"\r\n          @click=\"goToPreview(item)\"\r\n        >\r\n          <image :src=\"item.pic_url\" mode=\"aspectFill\"></image>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"empty-state\" v-else>\r\n        <view class=\"empty-icon-box\">\r\n          <uni-icons type=\"download-filled\" size=\"100\" color=\"#e0e0e0\"></uni-icons>\r\n        </view>\r\n        <text class=\"t1\">暂无下载记录</text>\r\n        <text class=\"t2\">喜欢的壁纸点击下载，即可保存到这里</text>\r\n        <view class=\"go-btn\" @click=\"goHome\">发现有趣壁纸</view>\r\n      </view>\r\n      \r\n      <view class=\"safe-bottom\"></view>\r\n    </scroll-view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref } from 'vue'\r\nimport { useUserStore } from '@/stores/user'\r\n\r\nconst userStore = useUserStore()\r\nconst statusBarHeight = ref(uni.getSystemInfoSync().statusBarHeight || 20)\r\nconst list = computed(() => userStore.downloads)\r\n\r\nfunction goBack() { uni.navigateBack() }\r\nfunction goHome() { uni.switchTab({ url: '/pages/index/index' }) }\r\nfunction goToPreview(item) { uni.navigateTo({ url: `/pages/preview/preview?id=${item.id}&type=downloads` }) }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container { height: 100vh; background: #fff; display: flex; flex-direction: column; }\r\n.header {\r\n  background: #fff; z-index: 10;\r\n  .header-inner {\r\n    height: 88rpx; padding: 0 30rpx; @include flex-between;\r\n    .back-btn { width: 80rpx; @include flex-center; }\r\n    .title { font-size: 34rpx; font-weight: 800; color: #1a1a1a; flex: 1; text-align: center; margin-left: 80rpx; }\r\n    .count { font-size: 24rpx; color: $brand-color; font-weight: 700; margin-right: 20rpx; }\r\n    .capsule-placeholder { width: 180rpx; }\r\n  }\r\n}\r\n.main { flex: 1; }\r\n.grid { padding: 30rpx; display: grid; grid-template-columns: repeat(3, 1fr); gap: 15rpx; }\r\n.wall-card {\r\n  height: 320rpx; border-radius: 20rpx; overflow: hidden; position: relative; background: #f8f9fa;\r\n  image { width: 100%; height: 100%; }\r\n}\r\n.empty-state {\r\n  padding: 200rpx 60rpx; @include flex-center; flex-direction: column;\r\n  .empty-icon-box { margin-bottom: 40rpx; animation: pulse 2s infinite ease-in-out; }\r\n  .t1 { font-size: 32rpx; font-weight: 700; color: #333; }\r\n  .t2 { font-size: 24rpx; color: #999; margin-top: 10rpx; margin-bottom: 60rpx; }\r\n  .go-btn { padding: 20rpx 60rpx; background: $brand-gradient; color: #fff; border-radius: 40rpx; font-size: 28rpx; font-weight: 600; }\r\n}\r\n\r\n@keyframes pulse {\r\n  0% { transform: scale(1); opacity: 0.8; }\r\n  50% { transform: scale(1.1); opacity: 1; }\r\n  100% { transform: scale(1); opacity: 0.8; }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/pages/my/downloads.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","uni","computed"],"mappings":";;;;;;;;;;;;;;AA4CA,UAAM,YAAYA,YAAAA,aAAc;AAChC,UAAM,kBAAkBC,cAAG,IAACC,cAAG,MAAC,kBAAiB,EAAG,mBAAmB,EAAE;AACzE,UAAM,OAAOC,cAAQ,SAAC,MAAM,UAAU,SAAS;AAE/C,aAAS,SAAS;AAAED,0BAAI;IAAgB;AACxC,aAAS,SAAS;AAAEA,oBAAAA,MAAI,UAAU,EAAE,KAAK,qBAAoB,CAAE;AAAA,IAAG;AAClE,aAAS,YAAY,MAAM;AAAEA,oBAAG,MAAC,WAAW,EAAE,KAAK,6BAA6B,KAAK,EAAE,kBAAmB,CAAA;AAAA,IAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjD7G,GAAG,WAAW,eAAe;"}