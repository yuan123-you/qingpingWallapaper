{"version":3,"file":"favorites.js","sources":["pages/my/favorites.vue","../../HBuilder X/HBuilderX.4.87.2025121004/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvZmF2b3JpdGVzLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\n      <view class=\"header-inner\">\n        <view class=\"back-btn\" @click=\"goBack\">\n          <uni-icons type=\"left\" size=\"24\" color=\"#1a1a1a\"></uni-icons>\n        </view>\n        <text class=\"title\">我的收藏</text>\n        <text class=\"count\" v-if=\"list.length\">{{ list.length }}</text>\n        <view class=\"capsule-placeholder\"></view>\n      </view>\n    </view>\n\n    <scroll-view scroll-y class=\"main\">\n      <view class=\"grid\" v-if=\"list.length\">\n        <view \n          class=\"wall-card fade-in-up\" \n          v-for=\"(item, index) in list\" \n          :key=\"item.id\"\n          :style=\"{ animationDelay: index * 0.05 + 's' }\"\n          @click=\"goToPreview(item)\"\n        >\n          <image :src=\"item.pic_url\" mode=\"aspectFill\"></image>\n          <view class=\"remove-btn\" @click.stop=\"doRemove(item)\">\n            <uni-icons type=\"trash\" size=\"16\" color=\"#ff4757\"></uni-icons>\n          </view>\n        </view>\n      </view>\n      \n      <view class=\"empty-state\" v-else>\n        <view class=\"empty-icon-box\">\n          <uni-icons type=\"heart-filled\" size=\"100\" color=\"#e0e0e0\"></uni-icons>\n        </view>\n        <text class=\"t1\">还没有收藏哦</text>\n        <text class=\"t2\">喜欢的壁纸点个心心，这里就能看到啦</text>\n        <view class=\"go-btn\" @click=\"goHome\">去发现好壁纸</view>\n      </view>\n      \n      <view class=\"safe-bottom\"></view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue'\nimport { useUserStore } from '@/stores/user'\n\nconst userStore = useUserStore()\nconst statusBarHeight = ref(uni.getSystemInfoSync().statusBarHeight || 20)\nconst list = computed(() => userStore.favorites)\n\nfunction goBack() { uni.navigateBack() }\nfunction goHome() { uni.switchTab({ url: '/pages/index/index' }) }\nfunction goToPreview(item) { uni.navigateTo({ url: `/pages/preview/preview?id=${item.id}&type=favorites` }) }\n\nfunction doRemove(item) {\n  uni.showModal({\n    title: '移出收藏',\n    content: '确定要从收藏夹移除这张壁纸吗？',\n    success: (res) => {\n      if (res.confirm) {\n        userStore.removeFavorite(item.id)\n      }\n    }\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container { height: 100vh; background: #fff; display: flex; flex-direction: column; }\n.header {\n  background: #fff; z-index: 10;\n  .header-inner {\n    height: 88rpx; padding: 0 30rpx; @include flex-between;\n    .back-btn { width: 80rpx; @include flex-center; }\n    .title { font-size: 34rpx; font-weight: 800; color: #1a1a1a; flex: 1; text-align: center; margin-left: 80rpx; }\n    .count { font-size: 24rpx; color: $brand-color; font-weight: 700; margin-right: 20rpx; }\n    .capsule-placeholder { width: 180rpx; }\n  }\n}\n.main { flex: 1; }\n.grid { padding: 30rpx; display: grid; grid-template-columns: repeat(3, 1fr); gap: 15rpx; }\n.wall-card {\n  height: 320rpx; border-radius: 20rpx; overflow: hidden; position: relative; background: #f8f9fa;\n  image { width: 100%; height: 100%; }\n  .remove-btn {\n    position: absolute; top: 10rpx; right: 10rpx; width: 44rpx; height: 44rpx;\n    background: rgba(255,255,255,0.9); border-radius: 50%; @include flex-center;\n  }\n}\n.empty-state {\n  padding: 200rpx 60rpx; @include flex-center; flex-direction: column;\n  .empty-icon-box { margin-bottom: 40rpx; animation: pulse 2s infinite ease-in-out; }\n  .t1 { font-size: 32rpx; font-weight: 700; color: #333; }\n  .t2 { font-size: 24rpx; color: #999; margin-top: 10rpx; margin-bottom: 60rpx; }\n  .go-btn { padding: 20rpx 60rpx; background: $brand-gradient; color: #fff; border-radius: 40rpx; font-size: 28rpx; font-weight: 600; }\n}\n\n@keyframes pulse {\n  0% { transform: scale(1); opacity: 0.8; }\n  50% { transform: scale(1.1); opacity: 1; }\n  100% { transform: scale(1); opacity: 0.8; }\n}\n</style>\n","import MiniProgramPage from 'D:/HBuilderPrograms/qingpingWallapaper/pages/my/favorites.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","uni","computed"],"mappings":";;;;;;;;;;;;;;AA+CA,UAAM,YAAYA,YAAAA,aAAc;AAChC,UAAM,kBAAkBC,cAAG,IAACC,cAAG,MAAC,kBAAiB,EAAG,mBAAmB,EAAE;AACzE,UAAM,OAAOC,cAAQ,SAAC,MAAM,UAAU,SAAS;AAE/C,aAAS,SAAS;AAAED,0BAAI;IAAgB;AACxC,aAAS,SAAS;AAAEA,oBAAAA,MAAI,UAAU,EAAE,KAAK,qBAAoB,CAAE;AAAA,IAAG;AAClE,aAAS,YAAY,MAAM;AAAEA,oBAAG,MAAC,WAAW,EAAE,KAAK,6BAA6B,KAAK,EAAE,kBAAmB,CAAA;AAAA,IAAG;AAE7G,aAAS,SAAS,MAAM;AACtBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,sBAAU,eAAe,KAAK,EAAE;AAAA,UACjC;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEA,GAAG,WAAW,eAAe;"}